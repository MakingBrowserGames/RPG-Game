<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Harry Potter RPG Game</title>

	<script src="https://code.jquery.com/jquery-2.2.3.js" integrity="sha256-laXWtGydpwqJ8JA+X9x2miwmaiKhn8tVmOVEigRNtP4=" crossorigin="anonymous"></script>


	<link rel="stylesheet" type="text/css" href="assets/css/reset.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="assets/css/style.css">

</head>
<body>
<div class="container-fluid">
	<div class="row">
		<h1 class="text-center">Harry Potter RPG Game</h1>
	</div>
	<div class="row">
		<div id="picking"></div>
	</div>
	<div class="row">
		<div id="myguy" class="col-md-4"></div>
		<div class="col-md-4"><button id="attack" class="btn" value=attack><h1>Attack</h1></button></div>
		<div id="enemy" class="col-md-4"></div>
	</div>
	<div class="row">
		<button id="restart" class="btn" value=restart><h1>Restart</h1></button>
	</div>
</div>

<script type="text/javascript">
$(document).ready(function() {
	var myChar;
	var opponentChar;

	var enemyArray = [ {
		id: "char1",
		name: "Hufflepuff",
		pic: 'assets/images/hufflepuff.png',
		hitPoints: 120,
		attackPower: 5
	}, {
		id: "char2",
		name: "Gryffindor",
		pic: 'assets/images/gryffindor.png',
		hitPoints: 100,
		attackPower: 10 		
	}, {
		id: "char3",
		name: "Slytherin",
		pic: 'assets/images/slytherin.png',
		hitPoints: 150,
		attackPower: 15 
	}, {
		id: "char4",
		name: "Ravenclaw",
		pic: 'assets/images/ravenclaw.png',
		hitPoints: 180,
		attackPower: 20
	} ];

	var haveCharacter = false;	//If you've picked your character or not
	var haveAttacker = false;	//If you have an opponent or not
	var enemiesLeft = 3;

	for(var i = 0; i < enemyArray.length; i++) {
			$("#picking").append("<div id=" + enemyArray[i].id + " class='btn character' value=" + enemyArray[i].id + "><img src=" + enemyArray[i].pic + " alt=" + enemyArray[i].name + ">" + "<br> " + enemyArray[i].hitPoints + "<br> " + enemyArray[i].attackPower + " </div>");
			// $("#picking").append("<img src=" + enemyArray[i].pic + ">")
	}


	$('.character').on("click", function(){
		if(!haveCharacter) {	//Picking your character
			myChar = $(this);
			$("#myguy").append(this);
			$(this).addClass("hero");

			console.log(myChar);
			console.log(myChar.hitPoints);

			haveCharacter = true;
		}
		else if(!haveAttacker && haveCharacter) {	//You have a character and you're picking your opponent
			opponentChar = $(this);
			$("#enemy").append(this);
			$(this).addClass("fighting");

			haveAttacker = true;
		}
	});

	$('#attack').on("click", function() {
		if(!haveCharacter) {
			console.log("you need to pick your character first")
		}
		else if(!haveAttacker) {
			console.log("pick your attacker");
		}
		else if(haveCharacter && haveAttacker) {
			opponentChar.hitPoints = opponentChar.hitPoints - myChar.attackPower;	//Hit Them
			if(opponentChar.hitPoints < 0) {
				$("#enemy").remove(".fighting");
				console.log("They die");
				haveAttacker = false;
			}
			myChar.hitPoints = myChar.hitPoints - opponentChar.attackPower;	//Get Hit
			if(myChar.hitPoints < 0) {
				console.log("I die");
			}

			myChar.attackPower = myChar.attackPower + myChar.attackPower;	//Get Stronger


			console.log("My Characters HP: " + myChar.hitPoints);
			console.log("My Characters AP: " + myChar.attackPower);
			console.log("My Opponent HP: " + opponentChar.hitPoints);
			console.log("My Opponent AP: " + opponentChar.attackPower);
			console.log("========================================");
		}
	});

	$('#restart').on("click", function(){
		var haveCharacter = false;
		var haveAttacker = false;
		var enemiesLeft = 3;
		var myChar;
		var opponentChar;
	});


});

</script>

</body>
</html>