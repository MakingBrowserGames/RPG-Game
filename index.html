<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Firefly RPG Game</title>

	<script src="https://code.jquery.com/jquery-2.2.3.js" integrity="sha256-laXWtGydpwqJ8JA+X9x2miwmaiKhn8tVmOVEigRNtP4=" crossorigin="anonymous"></script>


	<link rel="stylesheet" type="text/css" href="assets/css/reset.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="assets/css/style.css">

</head>
<body>
<div class="container-fluid">
	<div class="row">
		<h1 class="text-center">Firefly RPG Game</h1>
	</div>
	<div class="row">
		<div id="picking"></div>
<!-- 		<button id="char1" class="btn character" value=char1><h1>Character 1</h1></button>
		<button id="char2" class="btn character" value=char2><h1>Character 2</h1></button>
		<button id="char3" class="btn character" value=char3><h1>Character 3</h1></button>
		<button id="char4" class="btn character" value=char4><h1>Character 4</h1></button> -->
		<button id="restart" class="btn" value=restart><h1>Restart</h1></button>
	</div>
	<div class="row">
		<div id="myguy" class="col-md-4"></div>
		<div class="col-md-4"><button id="attack" class="btn" value=attack><h1>Attack</h1></button></div>
		<div id="enemy" class="col-md-4"></div>
	</div>
</div>

<script type="text/javascript">
$(document).ready(function() {
	var myChar;
	var opponentChar;

	var enemyArray = [ {
		name: "char1",
		hitPoints: 120,
		attackPower: 5
	}, {
		name: "char2",
		hitPoints: 100,
		attackPower: 10 		
	}, {
		name: "char3",
		hitPoints: 150,
		attackPower: 15 
	}, {
		name: "char4",
		hitPoints: 180,
		attackPower: 20
	} ];

	var haveCharacter = false;	//If you've picked your character or not
	var haveAttacker = false;	//If you have an opponent or not

	for(var i = 0; i < enemyArray.length; i++) {
			$("#picking").append("<button id=" + enemyArray[i].name + " class='btn character' value=" + enemyArray[i].name + ">" + enemyArray[i].name + "<br> " + enemyArray[i].hitPoints + "<br> " + enemyArray[i].attackPower + " </div>");
	}


	$('button').on("click", function(){
		if(!haveCharacter && $(this).hasClass("character")) {	//Picking your character and setting up enemies
			// var charID = $(this).attr("value");

			// for(var i = 0; i < enemyArray.length; i++) {
			// 	if(charID == enemyArray[i].name) {
			// 		myChar = enemyArray[i];			//Set myChar as Character Object
			// 		enemyArray.splice(i, 1);		//Takes my character out of enemy array
			// 	}
			// }

			// var myCharHTML = "<button id=" + myChar.name + " class='btn character' value=" + myChar.name + "><h1>" + myChar.name + myChar.hitPoints + myChar.attackPower + "</h1></button>";

			//var myCharHTML = myChar.name + myChar.hitPoints + myChar.attackPower

			$("#myguy").append(this);

			haveCharacter = true;
		}
		else if(!haveAttacker && haveCharacter && $(this).hasClass("character")) {	//You have a character and you're picking your opponent
			// var oppCharID = $(this).attr("value");

			// for(var i = 0; i < enemyArray.length; i++) {
			// 	if(oppCharID == enemyArray[i].name) {
			// 		opponentChar = enemyArray[i];			//Set opponentChar as Character Object
			// 		enemyArray.splice(i, 1);		//Takes the opponent out of the enemy array
			// 	}
			// }

			// var opponentHTML = "<button id=" + opponentChar.name + " class='btn character' value=" + opponentChar.name + "><h1>" + opponentChar.name + opponentChar.hitPoints + opponentChar.attackPower + "</h1></button>";

			$("#enemy").append(this);


			haveAttacker = true;

			console.log("My character is: " + myChar.name);
			for(var i = 0; i < enemyArray.length; i++) { console.log("Enemies I'm not fighting: " + enemyArray[i].name) }
			console.log("I'm fighting: " + opponentChar.name);
		}

		//Attack button
		if($(this).attr("value") == "attack") {
			if(!haveCharacter) {
				console.log("you need to pick your character first")
			}
			else if(!haveAttacker) {
				console.log("pick your attacker");
			}
			else if(haveCharacter && haveAttacker) {
				opponentChar.hitPoints = opponentChar.hitPoints - myChar.attackPower;	//Hit Them
				if(opponentChar.hitPoints < 0) {
					//Need to somehow HIDE the dead character
					console.log("They die");
					haveAttacker = false;
				}
				myChar.hitPoints = myChar.hitPoints - opponentChar.attackPower;	//Get Hit
				if(myChar.hitPoints < 0) {
					console.log("I die");
				}

				myChar.attackPower = myChar.attackPower + myChar.attackPower;	//Get Stronger


				console.log("My Characters HP: " + myChar.hitPoints);
				console.log("My Characters AP: " + myChar.attackPower);
				console.log("My Opponent HP: " + opponentChar.hitPoints);
				console.log("My Opponent AP: " + opponentChar.attackPower);
				console.log("========================================");
			}

		}
	    
	}); 




});
</script>

</body>
</html>